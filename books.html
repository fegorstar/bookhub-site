<!-- books.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookHub - Books Catalog</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons (Optional for Icons in Buttons) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/styles.css">
    <style>
        /* Custom styles for "Not Found" message */
        .not-found {
            display: none;
        }
    </style>
</head>
<body>

    <!-- Navigation Menu -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark-blue fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="assets/images/BookHub-LogoTRANS-1536x322.png" alt="FUTMinna Logo" class="navbar-logo img-fluid">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav align-items-center">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="books.html">Books</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#our-team">Our Team</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#testimonial">Testimonials</a>
                    </li>
                    <li class="nav-item ms-2">
                        <a class="nav-link" href="index.html#contact-us">Get Involved</a>
                    </li>
                    <!-- Navbar Search Box -->
                    <li class="nav-item ms-3">
                        <form class="d-flex" role="search" action="books.html" method="GET">
                            <input class="form-control me-2" type="search" placeholder="Search Books" aria-label="Search" name="query" required>
                            <button class="btn btn-outline-light" type="submit"><i class="bi bi-search"></i></button>
                        </form>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Books Catalog Section -->
    <section id="books" class="books mt-5 pt-5">
        <div class="container">
            <h2 class="mb-4 text-center">Books Catalog</h2>
            <!-- Optional: In-page Search Bar (Enhancement) -->
            <div class="mb-4">
                <input type="text" id="booksPageSearchInput" class="form-control" onkeyup="searchBooksInPage()" placeholder="Search for books...">
            </div>
            <!-- Books Grid -->
            <div class="row" id="booksGrid">
                <!-- Book Item 1 -->
                <div class="col-lg-3 col-md-4 col-sm-6 mb-4 book-item">
                    <div class="card h-100 shadow-sm">
                        <img src="assets/images/a_prisoners_dream.png" class="card-img-top book-image" alt="A Prisoner's Dream">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">A Prisoner's Dream</h5>
                            <p class="card-text">An inspiring tale of resilience and hope.</p>
                            <a href="https://external-link.com/book1" target="_blank" class="btn btn-primary mt-auto">Read</a>
                        </div>
                    </div>
                </div>
                <!-- Book Item 2 -->
                <div class="col-lg-3 col-md-4 col-sm-6 mb-4 book-item">
                    <div class="card h-100 shadow-sm">
                        <img src="assets/images/elementary-statistical-method-in-education.png" class="card-img-top book-image" alt="Elementary Statistical Method in Education">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Elementary Statistical Method in Education</h5>
                            <p class="card-text">A comprehensive guide to statistical methods in educational research.</p>
                            <a href="https://external-link.com/book2" target="_blank" class="btn btn-primary mt-auto">Read</a>
                        </div>
                    </div>
                </div>
                <!-- Book Item 3 -->
                <div class="col-lg-3 col-md-4 col-sm-6 mb-4 book-item">
                    <div class="card h-100 shadow-sm">
                        <img src="assets/images/handbook-on-cognitive-maths.png" class="card-img-top book-image" alt="Handbook on Cognitive Maths">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Handbook on Cognitive Maths</h5>
                            <p class="card-text">Enhancing mathematical cognition through innovative techniques.</p>
                            <a href="https://external-link.com/book3" target="_blank" class="btn btn-primary mt-auto">Read</a>
                        </div>
                    </div>
                </div>
                <!-- Book Item 4 -->
                <div class="col-lg-3 col-md-4 col-sm-6 mb-4 book-item">
                    <div class="card h-100 shadow-sm">
                        <img src="assets/images/introduction-to-marketing.png" class="card-img-top book-image" alt="Introduction to Marketing">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Introduction to Marketing</h5>
                            <p class="card-text">A foundational guide to marketing principles and strategies.</p>
                            <a href="https://external-link.com/book4" target="_blank" class="btn btn-primary mt-auto">Read</a>
                        </div>
                    </div>
                </div>
                <!-- Book Item 5 (Hidden Initially) -->
                <div class="col-lg-3 col-md-4 col-sm-6 mb-4 book-item d-none">
                    <div class="card h-100 shadow-sm">
                        <img src="assets/images/isreal-from-monarchy-to-excile.png" class="card-img-top book-image" alt="From Monarchy to Exile: The Journey of Isreal">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">From Monarchy to Exile: The Journey of Isreal</h5>
                            <p class="card-text">A historical exploration of Isreal's transformation from monarchy to exile.</p>
                            <a href="https://external-link.com/book5" target="_blank" class="btn btn-primary mt-auto">Read</a>
                        </div>
                    </div>
                </div>
                <!-- Book Item 6 (Hidden Initially) -->
                <div class="col-lg-3 col-md-4 col-sm-6 mb-4 book-item d-none">
                    <div class="card h-100 shadow-sm">
                        <img src="assets/images/library-automation.png" class="card-img-top book-image" alt="Library Automation: Modernizing Libraries">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Library Automation: Modernizing Libraries</h5>
                            <p class="card-text">An in-depth look at automating library systems for efficiency.</p>
                            <a href="https://external-link.com/book6" target="_blank" class="btn btn-primary mt-auto">Read</a>
                        </div>
                    </div>
                </div>
                <!-- Book Item 7 (Hidden Initially) -->
                <div class="col-lg-3 col-md-4 col-sm-6 mb-4 book-item d-none">
                    <div class="card h-100 shadow-sm">
                        <img src="assets/images/mineral-resources.png" class="card-img-top book-image" alt="Mineral Resources: Extraction and Management">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Mineral Resources: Extraction and Management</h5>
                            <p class="card-text">Comprehensive strategies for extracting and managing mineral resources.</p>
                            <a href="https://external-link.com/book7" target="_blank" class="btn btn-primary mt-auto">Read</a>
                        </div>
                    </div>
                </div>
                <!-- Book Item 8 (Hidden Initially) -->
                <div class="col-lg-3 col-md-4 col-sm-6 mb-4 book-item d-none">
                    <div class="card h-100 shadow-sm">
                        <img src="assets/images/selected-topics-in-biology.png" class="card-img-top book-image" alt="Selected Topics in Biology">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">Selected Topics in Biology</h5>
                            <p class="card-text">An advanced exploration of selected biological topics.</p>
                            <a href="https://external-link.com/book8" target="_blank" class="btn btn-primary mt-auto">Read</a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Not Found Message -->
            <div id="notFoundMessage" class="text-center not-found">
                <p class="text-danger">No books found matching your search.</p>
            </div>
            <!-- View More Button -->
            <div class="text-center view-more-container">
                <button id="viewMoreBtn" class="btn btn-yellow">View More</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark-blue text-white py-3">
        <div class="container text-center">
            <p>&copy; 2024 BookHub. All rights reserved.</p>
            <p>
                <a href="https://futminna.edu.ng/home/" target="_blank" rel="noopener noreferrer">FUTMinna</a> |
                <a href="https://openbookcollective.org/" target="_blank" rel="noopener noreferrer">Open Book Collective</a> |
                <a href="https://datasphir.com/bookhub" target="_blank" rel="noopener noreferrer">Datasphir</a>
            </p>
        </div>
    </footer>

    <!-- Bootstrap JS and dependencies (Popper.js) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="assets/scripts.js"></script>

    <!-- Custom Script for Book Search and View More -->
    <script>
        // Function to get query parameters from URL
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // Function to search books based on query parameter
        function searchBooksOnPage(query) {
            const filter = query.toLowerCase();
            const books = document.getElementsByClassName('book-item');
            let found = false;

            Array.from(books).forEach(function(book) {
                const title = book.querySelector('.card-title').innerText.toLowerCase();
                const description = book.querySelector('.card-text').innerText.toLowerCase();
                if (title.includes(filter) || description.includes(filter)) {
                    book.style.display = '';
                    found = true;
                } else {
                    book.style.display = 'none';
                }
            });

            // Display "Not Found" message if no matches
            const notFoundMessage = document.getElementById('notFoundMessage');
            if (found) {
                notFoundMessage.style.display = 'none';
            } else {
                notFoundMessage.style.display = 'block';
            }
        }

        // Function to handle in-page search (Optional Enhancement)
        function searchBooksInPage() {
            const input = document.getElementById('booksPageSearchInput');
            const filter = input.value.toLowerCase();
            const books = document.getElementsByClassName('book-item');
            let found = false;

            Array.from(books).forEach(function(book) {
                const title = book.querySelector('.card-title').innerText.toLowerCase();
                const description = book.querySelector('.card-text').innerText.toLowerCase();
                if (title.includes(filter) || description.includes(filter)) {
                    book.style.display = '';
                    found = true;
                } else {
                    book.style.display = 'none';
                }
            });

            // Display "Not Found" message if no matches
            const notFoundMessage = document.getElementById('notFoundMessage');
            if (found) {
                notFoundMessage.style.display = 'none';
            } else {
                notFoundMessage.style.display = 'block';
            }
        }

        // Execute search on page load if query parameter exists
        window.onload = function() {
            const query = getQueryParam('query');
            if (query) {
                searchBooksOnPage(query);
            }

            // Optional: Pre-fill the in-page search box with the query
            if (query) {
                const inPageSearchInput = document.getElementById('booksPageSearchInput');
                if (inPageSearchInput) {
                    inPageSearchInput.value = query;
                }
            }
        };

        // View More Functionality
        document.getElementById('viewMoreBtn').addEventListener('click', function() {
            const hiddenBooks = document.querySelectorAll('.book-item.d-none');
            hiddenBooks.forEach(function(book) {
                book.classList.remove('d-none');
            });
            this.style.display = 'none'; // Hide the button after clicking
        });
    </script>

</body>
</html>
